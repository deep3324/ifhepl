{% extends 'extends/base.html' %}
{% load static %}
{% block title %}{{job.applied_for}}{% endblock title %}
{% block style %}
<style>
  .btn-sub {
    border: 0;
    background-color: #261C2C;
    color: white;
    padding: 10px 20px;
    font-size: 1.25rem;
    border-radius: 25px;
  }
  input.invalid {
  background-color: #ffdddd;
}

  .btn-sub:hover {
    background-color: #381949;
  }

  .container-job {
    max-width: 80% !important;
  }

  .tab {
    display: none;
  }

  .step {
    opacity: 0.5;
  }

  .step.active {
    opacity: 1;
  }

  .step.finish {
    opacity: 0.7;
  }
</style>
{% endblock style %}
{% block body %}
<div class="row1" style="background-color: rgb(255, 255, 240);">
  <div class="container container-job" style="">
    <div class="my-4 text-center">
      <h3>Applied for: <strong style="color: red;"> {{job.applied_for}}</strong></h3>
    </div>
    <form id="msform" method="POST" action="" enctype="multipart/form-data"> {% csrf_token %}
      <div class="all-steps text-center" id="loanSteps">
        <span class="step"><img style="max-width: 30px;" src="{% static 'images/business.png' %}"></span>
        <span class="step"><img style="max-width: 30px;" src="{% static 'images/business.png' %}"></span>
        <span class="step"><img style="max-width: 30px;" src="{% static 'images/business.png' %}"></span>
        <span class="step"><img style="max-width: 30px;" src="{% static 'images/business.png' %}"></span>
      </div>
      <div class="tab">
        <h3 class="py-3">Personal Info</h3>
        <div class="mb-3 row">
          <div class="col-md-3">
            <label for="amob" class="form-label">Alternate Mobile No.</label>
          </div>
          <div class="col-md-9">
            <input type="tel" maxlength="10" minlength="10" name="alt_mobile_no" class="form-control" id="amob"
              aria-describedby="amob">
          </div>
        </div>
        <div class="mb-3 row">
          <div class="col-md-3">
            <label for="fname" class="form-label">Father's/Husband's Name <span style="color: red;">*</span></label>
          </div>
          <div class="col-md-9">
            <input type="text" class="form-control" name="father_name" id="fname" aria-describedby="name" required>
          </div>
        </div>
        <div class="mb-3 row">
          <div class="col-md-3">
            <label for="mname" class="form-label">Mother's Name <span style="color: red;">*</span></label>
          </div>
          <div class="col-md-9">
            <input type="text" class="form-control" name="mother_name" id="mname" aria-describedby="name" required>
          </div>
        </div>
        <div class="mb-3 row">
          <div class="col-md-3">
            <label for="category" class="form-label">Category <span style="color: red;">*</span></label>
          </div>
          <div class="col-md-9 row">
            <div class="form-check col-md-2">
              <input class="form-check-input" type="radio" name="category" value="General" id="category">
              <label class="form-check-label" for="category"> General </label>
            </div>
            <div class="form-check col-md-2">
              <input class="form-check-input" type="radio" name="category" value="OBC" id="category">
              <label class="form-check-label" for="category"> OBC </label>
            </div>
            <div class="form-check col-md-2">
              <input class="form-check-input" type="radio" name="category" value="SC/ST" id="category">
              <label class="form-check-label" for="category"> SC/ST </label>
            </div>
          </div>
        </div>
        <div class="mb-3 row">
          <div class="col-md-3">
            <label for="disability" class="form-label">Disability <span style="color: red;">*</span></label>
          </div>
          <div class="row col-md-9">
            <div class="form-check col-md-2">
              <input class="form-check-input" type="radio" name="disability" value="General" id="disability">
              <label class="form-check-label" for="disability"> Yes </label>
            </div>
            <div class="form-check col-md-2">
              <input class="form-check-input" type="radio" name="disability" value="OBC" id="disability">
              <label class="form-check-label" for="disability"> No </label>
            </div>
          </div>
        </div>
        <div class="mb-3 row">
          <div class="col-md-3">
            <label for="fname" class="form-label">Aadhar Number <span style="color: red;">*</span></label>
          </div>
          <div class="col-md-9">
            <input type="text" class="form-control" name="aadhar_number" id="fname" aria-describedby="name" required>
          </div>
        </div>
        <div class="mb-3 row">
          <div class="col-md-3">
            <label for="mname" class="form-label">Pan Number <span style="color: red;">*</span></label>
          </div>
          <div class="col-md-9">
            <input type="text" class="form-control" name="pan_number" id="mname" aria-describedby="name" required>
          </div>
        </div>
      </div>
      <div class="tab">
        <h3 class="py-3">Address</h3>
        <div class="col-md-9 row">
          <div class="col-md">
            <div class="mb-3 row">
              <div class="col-md-3">
                <label for="village" class="form-label">Village</label>
              </div>
              <div class="col-md-9">
                <input type="text" class="form-control" name="village" id="village" aria-describedby="village" required>
              </div>
            </div>
          </div>
          <div class="col-md">
            <div class="mb-3 row">
              <div class="col-md-3">
                <label for="po" class="form-label">P.O.</label>
              </div>
              <div class="col-md-9">
                <input type="text" class="form-control" name="po" id="po" aria-describedby="po" required>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-3"></div>
        <div class="col-md-9 row">
          <div class="col-md">
            <div class="mb-3 row">
              <div class="col-md-3">
                <label for="ps" class="form-label">P.S.</label>
              </div>
              <div class="col-md-9">
                <input type="text" class="form-control" name="ps" id="ps" aria-describedby="ps" required>
              </div>
            </div>
          </div>
          <div class="col-md">
            <div class="mb-3 row">
              <div class="col-md-3">
                <label for="block" class="form-label">Block</label>
              </div>
              <div class="col-md-9">
                <input type="block" class="form-control" name="block" id="block" aria-describedby="block" required>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-3"></div>
        <div class="col-md-9 row">
          <div class="col-md">
            <div class="mb-3 row">
              <div class="col-md-3">
                <label for="district" class="form-label">District</label>
              </div>
              <div class="col-md-9">
                <select class="form-select" name="district" aria-label="District">
                  <option selected>Open to select District</option>
                  <option value="Araria">Araria</option>
                  <option value="Arwal">Arwal</option>
                  <option value="Aurangabad">Aurangabad</option>
                  <option value="Banka">Banka</option>
                  <option value="Begusarai">Begusarai</option>
                  <option value="Bhabhua">Bhabhua</option>
                  <option value="Bhagalpur">Bhagalpur</option>
                  <option value="Bhojpur">Bhojpur</option>
                  <option value="Buxar">Buxar</option>
                  <option value="Darbhanga">Darbhanga</option>
                  <option value="East Champaran">East Champaran</option>
                  <option value="Gaya">Gaya</option>
                  <option value="Gopalganj">Gopalganj</option>
                  <option value="Jamui">Jamui</option>
                  <option value="Jehanabad">Jehanabad</option>
                  <option value="Katihar">Katihar</option>
                  <option value="Khagaria">Khagaria</option>
                  <option value="Kishanganj">Kishanganj</option>
                  <option value="Lakhisarai">Lakhisarai</option>
                  <option value="Madhepura">Madhepura</option>
                  <option value="Madhubani">Madhubani</option>
                  <option value="Monghyr">Monghyr</option>
                  <option value="Muzaffarpur">Muzaffarpur</option>
                  <option value="Nalanda">Nalanda</option>
                  <option value="Nawada">Nawada</option>
                  <option value="Patna">Patna</option>
                  <option value="Purnea">Purnea</option>
                  <option value="Rohtas">Rohtas</option>
                  <option value="Saharsa">Saharsa</option>
                  <option value="Samastipur">Samastipur</option>
                  <option value="Saran">Saran</option>
                  <option value="Sheikhpura">Sheikhpura</option>
                  <option value="Sheohar">Sheohar</option>
                  <option value="Sitamarhi">Sitamarhi</option>
                  <option value="Siwan">Siwan</option>
                  <option value="Supaul">Supaul</option>
                  <option value="Vaishali">Vaishali</option>
                  <option value="West Champaran">West Champaran</option>
                </select>
              </div>
            </div>
          </div>
          <div class="col-md">
            <div class="mb-3 row">
              <div class="col-md-3">
                <label for="state" class="form-label">State</label>
              </div>
              <div class="col-md-9">
                <select class="form-select" name="state" aria-label="state">
                  <option value="Bihar" selected>Bihar</option>
                </select>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-3"></div>
        <div class="col-md-9 row">
          <div class="col-md-6">
            <div class="mb-3 row">
              <div class="col-md-3">
                <label for="pinc" class="form-label">Pin Code</label>
              </div>
              <div class="col-md-9">
                <input type="text" class="form-control" minlength="6" maxlength="6" name="pin_code" id="pinc"
                  aria-describedby="pinc" required>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="tab">
        <h3>Education</h3>
      </div>
      <div class="tab">
        <h3>Document Upload</h3>
      </div>
      <div class="row">
        <div class="col-md-3">
          <button type="button" class="btn-sub" id="prevBtn" onclick="nextPrev(-1)">PREVIOUS</button>

        </div>
        <div class="col-md-3">
          <button type="button" class="btn-sub" id="nextBtn" onclick="nextPrev(1)">CONTINUE</button>

        </div>
      </div>
    </form>
  </div>
</div>
{% block script %}
<script>
  var currentTab = 0; // Current tab is set to be the first tab (0)
  showTab(currentTab); // Display the current tab

  function showTab(n) {
    // This function will display the specified tab of the form...
    var x = document.getElementsByClassName("tab");
    x[n].style.display = "block";
    //... and fix the Previous/Next buttons:
    if (n == 0) {
      document.getElementById("prevBtn").style.display = "none";
    } else {
      document.getElementById("prevBtn").style.display = "inline";
    }
    if (n == (x.length - 1)) {
      document.getElementById("nextBtn").innerHTML = "SUBMIT";
    } else {
      document.getElementById("nextBtn").innerHTML = "CONTINUE";
    }
    //... and run a function that will display the correct step indicator:
    fixStepIndicator(n)
  }

  function nextPrev(n) {
    // This function will figure out which tab to display
    var x = document.getElementsByClassName("tab");
    // Exit the function if any field in the current tab is invalid:
    if (n == 1 && !validateForm()) return false;
    // Hide the current tab:
    x[currentTab].style.display = "none";
    // Increase or decrease the current tab by 1:
    currentTab = currentTab + n;
    // if you have reached the end of the form...
    if (currentTab >= x.length) {
      // ... the form gets submitted:
      document.getElementById("msform").submit();
      return false;
    }
    // Otherwise, display the correct tab:
    showTab(currentTab);
  }

  function validateForm() {
    // This function deals with validation of the form fields
    var x, y, i, valid = true;
    x = document.getElementsByClassName("tab");
    y = x[currentTab].getElementsByTagName("input");
    // A loop that checks every input field in the current tab:
    for (i = 0; i < y.length; i++) {
      // If a field is empty...
      if (y[i].value == "") {
        // add an "invalid" class to the field:
        y[i].className += " invalid";
        // and set the current valid status to false
        valid = false;
      }
    }
    // If the valid status is true, mark the step as finished and valid:
    if (valid) {
      document.getElementsByClassName("step")[currentTab].className += " finish";
    }
    return valid; // return the valid status
  }

  function fixStepIndicator(n) {
    // This function removes the "active" class of all steps...
    var i, x = document.getElementsByClassName("step");
    for (i = 0; i < x.length; i++) {
      x[i].className = x[i].className.replace(" active", "");
    }
    //... and adds the "active" class on the current step:
    x[n].className += " active";
  }
</script>
{% endblock script %}
{% endblock body %}